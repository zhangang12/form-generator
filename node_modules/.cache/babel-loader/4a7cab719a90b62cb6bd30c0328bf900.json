{"remainingRequest":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue","mtime":1692714556052},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\babel.config.js","mtime":1692714559294},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1692715146967},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1692715135847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGVtaXRzOiBbJ2NvbmZpcm0nXSwKICBzZXR1cChwcm9wcywgY3R4KSB7CiAgICBjb25zdCB7CiAgICAgIHByb3h5CiAgICB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7CiAgICBjb25zdCBkYXRhID0gcmVhY3RpdmUoewogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBmaWxlTmFtZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZmlsZU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IGAke3Byb3h5LiR0KCdiYXNlLmVudGVyJyl9JHtwcm94eS4kdCgnYmFzZS5maWxlbmFtZScpfWAsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9KTsKICAgIGNvbnN0IG9uT3BlbiA9IChzdWZmaXggPSAnanNvbicpID0+IHsKICAgICAgZGF0YS52aXNpYmxlID0gdHJ1ZTsKICAgICAgZGF0YS5mb3JtRGF0YS5maWxlTmFtZSA9IGAkeytuZXcgRGF0ZSgpfS4ke3N1ZmZpeH1gOwogICAgfTsKICAgIGNvbnN0IGhhbmRlbENvbmZpcm0gPSAoKSA9PiB7CiAgICAgIHByb3h5LiRyZWZzLmVsRm9ybS52YWxpZGF0ZSgpLnRoZW4odmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBjdHguZW1pdCgnY29uZmlybScsIGRhdGEuZm9ybURhdGEuZmlsZU5hbWUpOwogICAgICAgIGNsb3NlKCk7CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IGNsb3NlID0gKCkgPT4gewogICAgICBkYXRhLnZpc2libGUgPSBmYWxzZTsKICAgIH07CiAgICByZXR1cm4gewogICAgICBvbk9wZW4sCiAgICAgIGhhbmRlbENvbmZpcm0sCiAgICAgIGNsb3NlLAogICAgICAuLi50b1JlZnMoZGF0YSkKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["reactive","toRefs","getCurrentInstance","emits","setup","props","ctx","proxy","data","visible","formData","fileName","undefined","rules","required","message","$t","trigger","onOpen","suffix","Date","handelConfirm","$refs","elForm","validate","then","valid","emit","close"],"sources":["C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue"],"sourcesContent":["<template>\n    <a-modal v-model:visible=\"visible\"\n        :title=\"$t('base.export.file')\"\n        @ok=\"handelConfirm\"\n        @cancel=\"close\"\n    >\n        <a-form\n            ref=\"elForm\"\n            :model=\"formData\"\n            :rules=\"rules\"\n            size=\"medium\"\n            label-width=\"100px\"\n        >\n            <a-form-item :label=\"$t('base.filename')\" name=\"fileName\">\n                <a-input v-model:value=\"formData.fileName\" :placeholder=\"$t('base.enter')\" allow-clear />\n            </a-form-item>\n        </a-form>\n    </a-modal>\n</template>\n<script>\nimport { reactive, toRefs, getCurrentInstance } from 'vue'\nexport default {\n    emits: ['confirm'],\n    setup(props, ctx){\n        const { proxy } = getCurrentInstance()\n        const data = reactive({\n            visible: false,\n            formData: {\n                fileName: undefined\n            },\n            rules: {\n                fileName: [{\n                    required: true,\n                    message: `${proxy.$t('base.enter')}${proxy.$t('base.filename')}`,\n                    trigger: 'blur'\n                }]\n            }\n        })\n\n        const onOpen = (suffix = 'json') => {\n            data.visible = true\n            data.formData.fileName = `${+new Date()}.${suffix}`\n        }\n\n        const handelConfirm = () => {\n            proxy.$refs.elForm.validate().then(valid => {\n                if (!valid) return\n                ctx.emit('confirm', data.formData.fileName)\n                close()\n            })\n        }\n\n        const close = () => {\n            data.visible = false\n        }\n\n        return {\n            onOpen,\n            handelConfirm,\n            close,\n            ...toRefs(data)\n        }\n    }\n}\n</script>"],"mappings":"AAoBA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,kBAAiB,QAAS,KAAI;AACzD,eAAe;EACXC,KAAK,EAAE,CAAC,SAAS,CAAC;EAClBC,KAAKA,CAACC,KAAK,EAAEC,GAAG,EAAC;IACb,MAAM;MAAEC;IAAM,IAAIL,kBAAkB,CAAC;IACrC,MAAMM,IAAG,GAAIR,QAAQ,CAAC;MAClBS,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;QACNC,QAAQ,EAAEC;MACd,CAAC;MACDC,KAAK,EAAE;QACHF,QAAQ,EAAE,CAAC;UACPG,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAG,GAAER,KAAK,CAACS,EAAE,CAAC,YAAY,CAAE,GAAET,KAAK,CAACS,EAAE,CAAC,eAAe,CAAE,EAAC;UAChEC,OAAO,EAAE;QACb,CAAC;MACL;IACJ,CAAC;IAED,MAAMC,MAAK,GAAIA,CAACC,MAAK,GAAI,MAAM,KAAK;MAChCX,IAAI,CAACC,OAAM,GAAI,IAAG;MAClBD,IAAI,CAACE,QAAQ,CAACC,QAAO,GAAK,GAAE,CAAC,IAAIS,IAAI,CAAC,CAAE,IAAGD,MAAO;IACtD;IAEA,MAAME,aAAY,GAAIA,CAAA,KAAM;MACxBd,KAAK,CAACe,KAAK,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,CAACC,IAAI,CAACC,KAAI,IAAK;QACxC,IAAI,CAACA,KAAK,EAAE;QACZpB,GAAG,CAACqB,IAAI,CAAC,SAAS,EAAEnB,IAAI,CAACE,QAAQ,CAACC,QAAQ;QAC1CiB,KAAK,CAAC;MACV,CAAC;IACL;IAEA,MAAMA,KAAI,GAAIA,CAAA,KAAM;MAChBpB,IAAI,CAACC,OAAM,GAAI,KAAI;IACvB;IAEA,OAAO;MACHS,MAAM;MACNG,aAAa;MACbO,KAAK;MACL,GAAG3B,MAAM,CAACO,IAAI;IAClB;EACJ;AACJ"}]}