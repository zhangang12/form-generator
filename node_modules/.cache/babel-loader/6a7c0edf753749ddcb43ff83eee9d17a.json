{"remainingRequest":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\FormDrawer\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\FormDrawer\\index.vue","mtime":1692714556618},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\babel.config.js","mtime":1692714559294},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1692715146967},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1692715135847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZXhwb3J0RGVmYXVsdCwgYmVhdXRpZmllckNvbmYsIHRpdGxlQ2FzZSB9IGZyb20gJ0AvdXRpbHMvaW5kZXgnOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzLCBnZXRDdXJyZW50SW5zdGFuY2UsIG5leHRUaWNrLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgTWFrZVVwIGZyb20gJy4vbWFrZVVwJzsKaW1wb3J0IGV4cG9ydE1vZGFsIGZyb20gJy4uL2pzb25EcmF3ZXIvZXhwb3J0TW9kYWwnOwppbXBvcnQgQ2xpcGJvYXJkSlMgZnJvbSAnY2xpcGJvYXJkJzsKaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBleHBvcnRNb2RhbAogIH0sCiAgc2V0dXAocHJvcHMsIGN0eCkgewogICAgY29uc3QgewogICAgICBwcm94eQogICAgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpOwogICAgbGV0IGVkaXRvck9iaiA9IHsKICAgICAgaHRtbDogbnVsbCwKICAgICAganM6IG51bGwsCiAgICAgIGNzczogbnVsbAogICAgfTsKICAgIGNvbnN0IGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIGlzSWZyYW1lTG9hZGVkOiBmYWxzZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGFjdGl2ZVRhYjogJ2h0bWwnLAogICAgICBpZnJhbWVTcmM6ICcvYW50ZHYvcHJldmlldy5odG1sJwogICAgICAvLyBpZnJhbWVTcmM6ICcvcHJldmlldy5odG1sJwogICAgfSk7CgogICAgY29uc3Qgb25DbG9zZSA9ICgpID0+IHsKICAgICAgZGF0YS52aXNpYmxlID0gZmFsc2U7CiAgICB9OwogICAgY29uc3QgZ2V0RWRpdG9yID0gdHlwZSA9PiB7CiAgICAgIGlmIChlZGl0b3JPYmpbdHlwZV0pIHsKICAgICAgICByZXR1cm4gZWRpdG9yT2JqW3R5cGVdOwogICAgICB9CiAgICAgIGxldCBpZDsKICAgICAgbGV0IG1vZGU7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgJ2h0bWwnOgogICAgICAgICAgaWQgPSAnZWRpdG9ySHRtbCc7CiAgICAgICAgICBtb2RlID0gJ2h0bWwnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnanMnOgogICAgICAgICAgaWQgPSAnZWRpdG9ySnMnOwogICAgICAgICAgbW9kZSA9ICdqYXZhc2NyaXB0JzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBpZCA9ICdlZGl0b3JDc3MnOwogICAgICAgICAgbW9kZSA9ICdjc3MnOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgZWRpdG9yT2JqW3R5cGVdID0gbW9uYWNvLmVkaXRvci5jcmVhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLCB7CiAgICAgICAgdGhlbWU6ICd2cy1kYXJrJywKICAgICAgICBsYW5ndWFnZTogbW9kZSwKICAgICAgICBhdXRvbWF0aWNMYXlvdXQ6IHRydWUKICAgICAgfSk7CiAgICAgIHJldHVybiBlZGl0b3JPYmpbdHlwZV07CiAgICB9OwogICAgY29uc3Qgc2V0RWRpdG9yVmFsdWUgPSAodHlwZSwgY29kZVN0cikgPT4gewogICAgICBsZXQgZWRpdG9yID0gZ2V0RWRpdG9yKHR5cGUpOwogICAgICBlZGl0b3Iuc2V0VmFsdWUoY29kZVN0cik7CiAgICB9OwogICAgY29uc3QgZ2VuZXJhdGVDb2RlID0gKGZvcm1EYXRhLCBjb2RlVHlwZURhdGEsIGNvcHkpID0+IHsKICAgICAgbGV0IG1ha2VVcCA9IE1ha2VVcChmb3JtRGF0YSwgY29kZVR5cGVEYXRhLCBwcm94eSk7CiAgICAgIGlmIChjb3B5KSB7CiAgICAgICAgbWFrZVVwLmh0bWwgPSBgPHRlbXBsYXRlPiR7bWFrZVVwLmh0bWx9PC90ZW1wbGF0ZT5gOwogICAgICAgIC8vIG1ha2VVcC5qcyA9IGA8c2NyaXB0PiR7bWFrZVVwLmpzfTxcL3NjcmlwdD5gCiAgICAgICAgLy8gbWFrZVVwLmNzcyA9IGA8c3R5bGU+XG4ke21ha2VVcC5jc3N9PC9zdHlsZT5gCiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgYnRmSHRtbENvZGU6IGJlYXV0aWZpZXIuaHRtbChtYWtlVXAuaHRtbCwgYmVhdXRpZmllckNvbmYuaHRtbCksCiAgICAgICAgYnRmSnNDb2RlOiBiZWF1dGlmaWVyLmpzKG1ha2VVcC5qcywgYmVhdXRpZmllckNvbmYuanMpLAogICAgICAgIGJmdENzc0NvZGU6IGJlYXV0aWZpZXIuY3NzKG1ha2VVcC5jc3MsIGJlYXV0aWZpZXJDb25mLmh0bWwpCiAgICAgIH07CiAgICB9OwogICAgY29uc3Qgb25PcGVuID0gKGZvcm1EYXRhLCBjb2RlVHlwZURhdGEpID0+IHsKICAgICAgZGF0YS52aXNpYmxlID0gdHJ1ZTsKICAgICAgbGV0IHsKICAgICAgICBidGZIdG1sQ29kZSwKICAgICAgICBidGZKc0NvZGUsCiAgICAgICAgYmZ0Q3NzQ29kZQogICAgICB9ID0gZ2VuZXJhdGVDb2RlKGZvcm1EYXRhLCBjb2RlVHlwZURhdGEpOwogICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgICAgc2V0RWRpdG9yVmFsdWUoJ2h0bWwnLCBidGZIdG1sQ29kZSk7CiAgICAgICAgc2V0RWRpdG9yVmFsdWUoJ2pzJywgYnRmSnNDb2RlKTsKICAgICAgICBzZXRFZGl0b3JWYWx1ZSgnY3NzJywgYmZ0Q3NzQ29kZSk7CiAgICAgICAgaWYgKGRhdGEuaXNJZnJhbWVMb2FkZWQpIHsKICAgICAgICAgIHJ1bkNvZGUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHNob3dFeHBvcnRNb2RhbCA9ICgpID0+IHsKICAgICAgcHJveHkuJHJlZnMuZXhwb3J0TW9kYWwub25PcGVuKCd2dWUnKTsKICAgIH07CiAgICBjb25zdCBleHBvcnRDb2RlID0gKCkgPT4gewogICAgICBsZXQgaHRtbCA9IGVkaXRvck9iai5odG1sLmdldFZhbHVlKCk7CiAgICAgIGxldCBqcyA9IGVkaXRvck9iai5qcy5nZXRWYWx1ZSgpOwogICAgICBsZXQgY3NzID0gZWRpdG9yT2JqLmNzcy5nZXRWYWx1ZSgpOwogICAgICBsZXQgaHRtbENvZGUgPSBiZWF1dGlmaWVyLmh0bWwoYDx0ZW1wbGF0ZT4ke2h0bWx9PC90ZW1wbGF0ZT5gKTsKICAgICAgcmV0dXJuIGAke2h0bWxDb2RlfVxuPHNjcmlwdCBzZXR1cD5cbiR7anN9PFwvc2NyaXB0PlxuPHN0eWxlPlxuJHtjc3N9PHN0eWxlPmA7CiAgICB9OwogICAgY29uc3QgZXhwb3J0TW9kYWxDb25maXJtID0gZmlsZU5hbWUgPT4gewogICAgICBpZiAoIWZpbGVOYW1lKSBmaWxlTmFtZSA9IGAkeytuZXcgRGF0ZSgpfS52dWVgOwogICAgICBsZXQgY29kZSA9IGV4cG9ydENvZGUoKTsKICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbY29kZV0sIHsKICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JwogICAgICB9KTsKICAgICAgc2F2ZUFzKGJsb2IsIGZpbGVOYW1lKTsKICAgIH07CiAgICBjb25zdCBpZnJhbWVMb2FkID0gKCkgPT4gewogICAgICBkYXRhLmlzSWZyYW1lTG9hZGVkID0gdHJ1ZTsKICAgICAgcnVuQ29kZSgpOwogICAgfTsKICAgIGNvbnN0IHJ1bkNvZGUgPSAoKSA9PiB7CiAgICAgIGxldCBodG1sID0gZWRpdG9yT2JqLmh0bWwuZ2V0VmFsdWUoKTsKICAgICAgbGV0IGpzID0gZWRpdG9yT2JqLmpzLmdldFZhbHVlKCk7CiAgICAgIGxldCBjc3MgPSBlZGl0b3JPYmouY3NzLmdldFZhbHVlKCk7CiAgICAgIHByb3h5LiRyZWZzLnByZXZpZXdQYWdlLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoewogICAgICAgIGh0bWwsCiAgICAgICAganMsCiAgICAgICAgY3NzCiAgICAgIH0pOwogICAgfTsKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGNvbnN0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygnI2lubmVyQ29weScsIHsKICAgICAgICB0ZXh0OiB0cmlnZ2VyID0+IHsKICAgICAgICAgIGxldCBjb2RlID0gZXhwb3J0Q29kZSgpOwogICAgICAgICAgcHJveHkuJG5vdGlmaWNhdGlvbi5zdWNjZXNzKHsKICAgICAgICAgICAgbWVzc2FnZTogcHJveHkuJHQoJ2Jhc2Uuc3VjY2Vzc2Z1bGx5JyksCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm94eS4kdCgnYmFzZS5jb2RlLmNvcHkuc3VjY2Vzc2Z1bGx5JykKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGNvZGU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY2xpcGJvYXJkLm9uKCdlcnJvcicsIGUgPT4gewogICAgICAgIHByb3h5LiRtZXNzYWdlLmVycm9yKHByb3h5LiR0KCdiYXNlLmNvZGUuY29weS5mYWlsZWQnKSk7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBvbkNsb3NlLAogICAgICBvbk9wZW4sCiAgICAgIGlmcmFtZUxvYWQsCiAgICAgIHJ1bkNvZGUsCiAgICAgIGdlbmVyYXRlQ29kZSwKICAgICAgc2hvd0V4cG9ydE1vZGFsLAogICAgICBleHBvcnRNb2RhbENvbmZpcm0sCiAgICAgIC4uLnRvUmVmcyhkYXRhKQogICAgfTsKICB9Cn07"},{"version":3,"names":["exportDefault","beautifierConf","titleCase","reactive","toRefs","getCurrentInstance","nextTick","onMounted","MakeUp","exportModal","ClipboardJS","saveAs","components","setup","props","ctx","proxy","editorObj","html","js","css","data","isIframeLoaded","visible","activeTab","iframeSrc","onClose","getEditor","type","id","mode","monaco","editor","create","document","getElementById","theme","language","automaticLayout","setEditorValue","codeStr","setValue","generateCode","formData","codeTypeData","copy","makeUp","btfHtmlCode","beautifier","btfJsCode","bftCssCode","onOpen","runCode","showExportModal","$refs","exportCode","getValue","htmlCode","exportModalConfirm","fileName","Date","code","blob","Blob","iframeLoad","previewPage","contentWindow","postMessage","clipboard","text","trigger","$notification","success","message","$t","description","on","e","$message","error"],"sources":["C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\FormDrawer\\index.vue"],"sourcesContent":["<template>\n    <a-drawer\n        v-model:visible=\"visible\"\n        :closable=\"false\"\n        width=\"100%\"\n        :body-style=\"{ padding: '0px' }\"\n    >\n        <div style=\"height:100vh\">\n            <a-row style=\"height:100vh; overflow:auto\">\n                <a-col :md=\"24\" :lg=\"12\" class=\"left-editor\">\n                    <a-tabs v-model:activeKey=\"activeTab\" size=\"large\" type=\"card\" class=\"editor-tabs\">\n                        <a-tab-pane key=\"html\">\n                            <template #tab>\n                            <span>\n                                <Icon name=\"edit\" v-if=\"activeTab=='html'\" style=\"color:#f1fa8c\" />\n                                <Icon name=\"code\" v-else style=\"color:#a95812\" />\n                                template\n                            </span>\n                            </template>\n                        </a-tab-pane>\n                        <a-tab-pane key=\"js\">\n                            <template #tab>\n                            <span>\n                                <Icon name=\"edit\" v-if=\"activeTab=='js'\" style=\"color:#f1fa8c\" />\n                                <Icon name=\"code\" v-else style=\"color:#a95812\" />\n                                script\n                            </span>\n                            </template>\n                        </a-tab-pane>\n                        <a-tab-pane key=\"css\">\n                            <template #tab>\n                            <span>\n                                <Icon name=\"edit\" v-if=\"activeTab=='css'\" style=\"color:#f1fa8c\" />\n                                <Icon name=\"code\" v-else style=\"color:#a95812\" />\n                                css\n                            </span>\n                            </template>\n                        </a-tab-pane>\n                    </a-tabs>\n                    <div v-show=\"activeTab==='html'\" id=\"editorHtml\" class=\"tab-editor\" />\n                    <div v-show=\"activeTab==='js'\" id=\"editorJs\" class=\"tab-editor\" />\n                    <div v-show=\"activeTab==='css'\" id=\"editorCss\" class=\"tab-editor\" />\n                </a-col>\n                <a-col :md=\"24\" :lg=\"12\" class=\"right-preview\">\n                    <div class=\"action-bar\" :style=\"{'text-align': 'left'}\">\n                        <a-button type=\"link\" size=\"small\" @click=\"runCode\">\n                            <Icon name=\"reload\" />\n                            {{ $t('base.refresh') }}\n                        </a-button>\n                        <a-divider type=\"vertical\" />\n                        <a-button type=\"link\" size=\"small\" @click=\"showExportModal\">\n                            <Icon name=\"cloud-download\" />\n                            {{ $t('base.export.vue.file') }}\n                        </a-button>\n                        <a-divider type=\"vertical\" />\n                        <a-button id=\"innerCopy\" class=\"copy-btn\" size=\"small\" type=\"link\">\n                            <Icon name=\"copy\" />\n                            {{ $t('base.copy.code') }}\n                        </a-button>\n                        <a-divider type=\"vertical\" />\n                        <a-button size=\"small\" type=\"link\" @click=\"onClose\">\n                            <Icon name=\"close-circle\" />\n                            {{ $t('base.close') }}\n                        </a-button>\n                    </div>\n                    <iframe\n                        v-show=\"isIframeLoaded\"\n                        ref=\"previewPage\"\n                        class=\"result-wrapper\"\n                        frameborder=\"0\"\n                        :src=\"iframeSrc\"\n                        @load=\"iframeLoad\"\n                    />\n                </a-col>\n            </a-row>\n        </div>\n    </a-drawer>\n    <export-modal ref=\"exportModal\" @confirm=\"exportModalConfirm\" />\n</template>\n<script>\nimport { exportDefault, beautifierConf, titleCase } from '@/utils/index'\nimport { reactive, toRefs, getCurrentInstance, nextTick, onMounted } from 'vue'\nimport MakeUp from './makeUp'\nimport exportModal from '../jsonDrawer/exportModal'\nimport ClipboardJS from 'clipboard'\nimport { saveAs } from 'file-saver'\nexport default {\n    components: {\n        exportModal\n    },\n    setup(props, ctx){\n\n        const { proxy } = getCurrentInstance()\n\n        let editorObj = {\n            html: null,\n            js: null,\n            css: null\n        }\n\n        const data = reactive({\n            isIframeLoaded: false,\n            visible: false,\n            activeTab: 'html',\n            iframeSrc: '/antdv/preview.html'\n            // iframeSrc: '/preview.html'\n        })\n\n        const onClose = () => {\n            data.visible = false\n        }\n\n        const getEditor = (type) => {\n            if(editorObj[type]){\n                return editorObj[type]\n            }\n            let id\n            let mode\n            switch (type) {\n                case 'html':\n                    id = 'editorHtml'\n                    mode = 'html'\n                    break;\n                case 'js':\n                    id = 'editorJs'\n                    mode = 'javascript'\n                    break\n                default:\n                    id = 'editorCss'\n                    mode = 'css'\n                    break;\n            }\n            editorObj[type] = monaco.editor.create(document.getElementById(id), {\n                theme: 'vs-dark',\n                language: mode,\n                automaticLayout: true\n            })\n            return editorObj[type]\n        }\n\n        const setEditorValue = (type, codeStr) => {\n            let editor = getEditor(type)\n            editor.setValue(codeStr)\n        }\n\n        const generateCode = (formData, codeTypeData, copy) => {\n            let makeUp = MakeUp(formData, codeTypeData, proxy)\n            if(copy){\n                makeUp.html = `<template>${makeUp.html}</template>`\n                // makeUp.js = `<script>${makeUp.js}<\\/script>`\n                // makeUp.css = `<style>\\n${makeUp.css}</style>`\n            }\n            return {\n                btfHtmlCode: beautifier.html(makeUp.html, beautifierConf.html),\n                btfJsCode: beautifier.js(makeUp.js, beautifierConf.js),\n                bftCssCode: beautifier.css(makeUp.css, beautifierConf.html)\n            }\n        }\n\n        const onOpen = (formData, codeTypeData) => {\n            data.visible = true\n            let { btfHtmlCode, btfJsCode, bftCssCode } = generateCode(formData, codeTypeData)\n            nextTick(() => {\n                setEditorValue('html', btfHtmlCode)\n                setEditorValue('js', btfJsCode)\n                setEditorValue('css', bftCssCode)\n                if(data.isIframeLoaded){\n                    runCode()\n                }\n            })\n        }\n\n        const showExportModal = () => {\n            proxy.$refs.exportModal.onOpen('vue')\n        }\n\n        const exportCode = () => {\n            let html = editorObj.html.getValue()\n            let js = editorObj.js.getValue()\n            let css = editorObj.css.getValue()\n            let htmlCode = beautifier.html(`<template>${html}</template>`)\n            return `${htmlCode}\\n<script setup>\\n${js}<\\/script>\\n<style>\\n${css}<style>`\n        }\n\n        const exportModalConfirm = (fileName) => {\n            if (!fileName) fileName = `${+new Date()}.vue`\n            let code = exportCode()\n            let blob = new Blob([code], { type: 'text/plain;charset=utf-8' })\n            saveAs(blob, fileName)\n        }\n\n        const iframeLoad = () => {\n            data.isIframeLoaded = true\n            runCode()\n        }\n\n        const runCode = () => {\n            let html = editorObj.html.getValue()\n            let js = editorObj.js.getValue()\n            let css = editorObj.css.getValue()\n            proxy.$refs.previewPage.contentWindow.postMessage({html,js,css})\n\n        }\n\n        onMounted(() => {\n            const clipboard = new ClipboardJS('#innerCopy', {\n                text: trigger => {\n                    let code = exportCode()\n                    proxy.$notification.success({\n                        message: proxy.$t('base.successfully'),\n                        description: proxy.$t('base.code.copy.successfully')\n                    })\n                    return code\n                }\n            })\n            clipboard.on('error', e => {\n                proxy.$message.error(proxy.$t('base.code.copy.failed'))\n            })\n        })\n\n        return {\n            onClose,\n            onOpen,\n            iframeLoad,\n            runCode,\n            generateCode,\n            showExportModal,\n            exportModalConfirm,\n            ...toRefs(data)\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '@/styles/mixin.scss';\n\n.tab-editor {\n  position: absolute;\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 14px;\n}\n.left-editor {\n  position: relative;\n  height: 100%;\n  background: #1e1e1e;\n  overflow: hidden;\n}\n.setting{\n  position: absolute;\n  right: 15px;\n  top: 3px;\n  color: #a9f122;\n  font-size: 18px;\n  cursor: pointer;\n  z-index: 1;\n}\n.right-preview {\n  height: 100%;\n  .result-wrapper {\n    height: calc(100vh - 40px);\n    width: 100%;\n    overflow: auto;\n    padding: 12px;\n    box-sizing: border-box;\n  }\n}\n@include action-bar;\n</style>"],"mappings":"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"}]}