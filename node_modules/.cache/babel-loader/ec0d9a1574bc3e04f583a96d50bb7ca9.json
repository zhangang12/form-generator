{"remainingRequest":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\centerStage\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\centerStage\\index.vue","mtime":1692714556546},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\babel.config.js","mtime":1692714559294},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1692715146967},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1692715135847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IERyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgcmVuZGVycyBmcm9tICdAL2NvbXBvbmVudHMvcmVuZGVycyc7CmltcG9ydCB7IGgsIHJlc29sdmVDb21wb25lbnQsIGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0IH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGVtaXRzOiBbJ2FkZENvbXBvbmVudCcsICdzb3J0Q29tcG9uZW50JywgJ21vdmVDb21wb25lbnQnLCAnc2VsZWN0Q29tcG9uZW50JywgJ2RlbGV0ZUNvbXBvbmVudCddLAogIHByb3BzOiB7CiAgICBkcmF3aW5nTGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVJdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBmb3JtUnVsZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBzZXR1cChwcm9wcywgY29udGV4dCkgewogICAgY29uc3QgewogICAgICBwcm94eQogICAgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpOwogICAgY29uc3Qgbm90aGluZyA9IFt7CiAgICAgIGlkOiAnMDAwMDAwJwogICAgfV07CiAgICBjb25zdCBwcmVBY3Rpb24gPSBpbmplY3QoJ3ByZUFjdGlvbicpOwogICAgcmV0dXJuICgpID0+IHsKICAgICAgbGV0IGZvcm1Qcm9wcyA9IHsKICAgICAgICBsYXlvdXQ6IHByb3BzLmZvcm1SdWxlLmxheW91dCwKICAgICAgICBndXR0ZXI6IHByb3BzLmZvcm1SdWxlLmd1dHRlciwKICAgICAgICBmb3JtQnRuczogcHJvcHMuZm9ybVJ1bGUuZm9ybUJ0bnMsCiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmZvcm1SdWxlLmRpc2FibGVkLAogICAgICAgIGxhYmVsQWxpZ246IHByb3BzLmZvcm1SdWxlLmxhYmVsQWxpZ24KICAgICAgfTsKICAgICAgaWYgKHByb3BzLmZvcm1SdWxlLmxheW91dCA9PSAiaG9yaXpvbnRhbCIpIHsKICAgICAgICBmb3JtUHJvcHMubGFiZWxDb2wgPSBwcm9wcy5mb3JtUnVsZS5sYWJlbENvbCwgZm9ybVByb3BzLndyYXBwZXJDb2wgPSBwcm9wcy5mb3JtUnVsZS53cmFwcGVyQ29sOwogICAgICB9CiAgICAgIHJldHVybiBoKHJlc29sdmVDb21wb25lbnQoJ2EtZm9ybScpLCB7CiAgICAgICAgY29sb246IHRydWUsCiAgICAgICAgLi4uZm9ybVByb3BzCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgICBpZiAocHJvcHMuZHJhd2luZ0xpc3QubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgcmV0dXJuIGgoRHJhZ2dhYmxlLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICdkcmF3aW5nLWJvYXJkJywKICAgICAgICAgICAgICBtb2RlbFZhbHVlOiBub3RoaW5nLAogICAgICAgICAgICAgIGdyb3VwOiAnY29tcG9uZW50c0dyb3VwJywKICAgICAgICAgICAgICBvbkFkZDogZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KCdhZGRDb21wb25lbnQnLCB7CiAgICAgICAgICAgICAgICAgIGluZGV4OiAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGl0ZW1LZXk6ICdpZCcKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGl0ZW06ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBoKHJlc29sdmVDb21wb25lbnQoJ2EtcmVzdWx0JyksIHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHByb3h5LiR0KCdiYXNlLmxlZnQuZHJhZycpCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGljb246ICgpID0+IGgocmVzb2x2ZUNvbXBvbmVudCgnSWNvbicpLCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FwcHN0b3JlLW91dGxpbmVkJwogICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgZXh0cmE6ICgpID0+IHt9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGgoRHJhZ2dhYmxlLCB7CiAgICAgICAgICAgIGNsYXNzOiAnZHJhd2luZy1ib2FyZCBhbnQtcm93JywKICAgICAgICAgICAgbW9kZWxWYWx1ZTogcHJvcHMuZHJhd2luZ0xpc3QsCiAgICAgICAgICAgIGdyb3VwOiAnY29tcG9uZW50c0dyb3VwJywKICAgICAgICAgICAgaXRlbUtleTogJ2Zvcm1JZCcsCiAgICAgICAgICAgIGNsb25lOiBvcHRpb25zID0+IHsKICAgICAgICAgICAgICBwcmVBY3Rpb24uc2V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBpdGVtSW5kZXggPSBwcm9wcy5kcmF3aW5nTGlzdC5maW5kSW5kZXgocCA9PiBwLmZvcm1JZCA9PSBvcHRpb25zLmZvcm1JZCk7CiAgICAgICAgICAgICAgICBsZXQgW2l0ZW1dID0gcHJvcHMuZHJhd2luZ0xpc3Quc3BsaWNlKGl0ZW1JbmRleCwgMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25BZGQ6IGV2dCA9PiB7CiAgICAgICAgICAgICAgY29udGV4dC5lbWl0KCdhZGRDb21wb25lbnQnLCB7CiAgICAgICAgICAgICAgICBpbmRleDogZXZ0Lm5ld0luZGV4CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uVXBkYXRlOiBldnQgPT4gewogICAgICAgICAgICAgIGNvbnRleHQuZW1pdCgnc29ydENvbXBvbmVudCcsIHsKICAgICAgICAgICAgICAgIG9sZEluZGV4OiBldnQub2xkSW5kZXgsCiAgICAgICAgICAgICAgICBuZXdJbmRleDogZXZ0Lm5ld0luZGV4CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uRW5kOiAoKSA9PiB7CiAgICAgICAgICAgICAgcHJlQWN0aW9uLnNldChudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICBpdGVtOiAoewogICAgICAgICAgICAgIGVsZW1lbnQsCiAgICAgICAgICAgICAgaW5kZXgKICAgICAgICAgICAgfSkgPT4gewogICAgICAgICAgICAgIHJldHVybiByZW5kZXJzKHsKICAgICAgICAgICAgICAgIG9yaWdpbjogcHJvcHMuZHJhd2luZ0xpc3QsCiAgICAgICAgICAgICAgICBwcm9wcywKICAgICAgICAgICAgICAgIGN0eDogY29udGV4dCwKICAgICAgICAgICAgICAgIGl0ZW06IGVsZW1lbnQsCiAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9Cn07"},{"version":3,"names":["Draggable","renders","h","resolveComponent","getCurrentInstance","inject","emits","props","drawingList","type","Array","default","activeItem","Object","formRule","setup","context","proxy","nothing","id","preAction","formProps","layout","gutter","formBtns","disabled","labelAlign","labelCol","wrapperCol","colon","length","class","modelValue","group","onAdd","evt","emit","index","itemKey","item","title","$t","icon","name","extra","clone","options","set","itemIndex","findIndex","p","formId","splice","newIndex","onUpdate","oldIndex","onEnd","element","origin","ctx"],"sources":["C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\centerStage\\index.vue"],"sourcesContent":["\n<script>\nimport Draggable from 'vuedraggable'\nimport renders from '@/components/renders'\nimport { h, resolveComponent, getCurrentInstance, inject } from 'vue'\nexport default {\n    emits: ['addComponent', 'sortComponent','moveComponent', 'selectComponent', 'deleteComponent'],\n    props: {\n        drawingList: {\n            type: Array,\n            default(){\n                return []\n            }\n        },\n        activeItem: {\n            type: Object,\n            default(){\n                return {}\n            }\n        },\n        formRule: {\n            type: Object,\n            default(){\n                return {}\n            }\n        }\n    },\n    setup(props, context){\n        const { proxy } = getCurrentInstance()\n        const nothing = [{id: '000000'}]\n        const preAction = inject('preAction')\n        \n        return () => {\n            \n            let formProps = {\n                layout: props.formRule.layout,\n                gutter: props.formRule.gutter,\n                formBtns: props.formRule.formBtns,\n                disabled: props.formRule.disabled,\n                labelAlign: props.formRule.labelAlign\n            }\n            if(props.formRule.layout == \"horizontal\"){\n                formProps.labelCol = props.formRule.labelCol,\n                formProps.wrapperCol = props.formRule.wrapperCol\n            }\n\n            return h(\n                resolveComponent('a-form'),\n                {\n                    colon: true,\n                    ...formProps\n                },\n                {\n                    default: () => {\n\n                        if(props.drawingList.length <= 0){\n                            return h(Draggable, {\n                                class: 'drawing-board',\n                                modelValue: nothing,\n                                group: 'componentsGroup',\n                                onAdd: function(evt){\n                                    context.emit('addComponent', {index: 0})\n                                },\n                                itemKey: 'id'\n                            }, {\n                                item: () => {\n                                    return h(\n                                        resolveComponent('a-result'),\n                                        {\n                                            title: proxy.$t('base.left.drag')\n                                        },\n                                        {\n                                            icon: () => h(resolveComponent('Icon'), { name: 'appstore-outlined'}),\n                                            extra: () => {}\n                                        }\n                                    )\n                                }\n                            })\n                        }\n\n                        return h(Draggable, {\n                            class: 'drawing-board ant-row',\n                            modelValue: props.drawingList,\n                            group: 'componentsGroup',\n                            itemKey: 'formId',\n                            clone: (options) => {\n                                preAction.set(() => {\n                                    let itemIndex = props.drawingList.findIndex(p => p.formId == options.formId)\n                                    let [item] = props.drawingList.splice(itemIndex, 1)\n                                    return item\n                                })\n                            },\n                            onAdd: (evt) => {\n                                context.emit('addComponent', {index: evt.newIndex })\n                            },\n                            onUpdate: (evt) => {\n                                context.emit('sortComponent', {\n                                    oldIndex: evt.oldIndex,\n                                    newIndex: evt.newIndex\n                                })\n                            },\n                            onEnd: () => {\n                                preAction.set(null)\n                            }\n                        }, {\n                            item: ({element, index}) => {\n                                return renders({\n                                    origin: props.drawingList,\n                                    props, ctx: context,\n                                    item: element, index\n                                })\n                            }\n                        })\n                    }\n                }\n            )\n        }\n    }\n}\n</script>"],"mappings":"AAEA,OAAOA,SAAQ,MAAO,cAAa;AACnC,OAAOC,OAAM,MAAO,sBAAqB;AACzC,SAASC,CAAC,EAAEC,gBAAgB,EAAEC,kBAAkB,EAAEC,MAAK,QAAS,KAAI;AACpE,eAAe;EACXC,KAAK,EAAE,CAAC,cAAc,EAAE,eAAe,EAAC,eAAe,EAAE,iBAAiB,EAAE,iBAAiB,CAAC;EAC9FC,KAAK,EAAE;IACHC,WAAW,EAAE;MACTC,IAAI,EAAEC,KAAK;MACXC,OAAOA,CAAA,EAAE;QACL,OAAO,EAAC;MACZ;IACJ,CAAC;IACDC,UAAU,EAAE;MACRH,IAAI,EAAEI,MAAM;MACZF,OAAOA,CAAA,EAAE;QACL,OAAO,CAAC;MACZ;IACJ,CAAC;IACDG,QAAQ,EAAE;MACNL,IAAI,EAAEI,MAAM;MACZF,OAAOA,CAAA,EAAE;QACL,OAAO,CAAC;MACZ;IACJ;EACJ,CAAC;EACDI,KAAKA,CAACR,KAAK,EAAES,OAAO,EAAC;IACjB,MAAM;MAAEC;IAAM,IAAIb,kBAAkB,CAAC;IACrC,MAAMc,OAAM,GAAI,CAAC;MAACC,EAAE,EAAE;IAAQ,CAAC;IAC/B,MAAMC,SAAQ,GAAIf,MAAM,CAAC,WAAW;IAEpC,OAAO,MAAM;MAET,IAAIgB,SAAQ,GAAI;QACZC,MAAM,EAAEf,KAAK,CAACO,QAAQ,CAACQ,MAAM;QAC7BC,MAAM,EAAEhB,KAAK,CAACO,QAAQ,CAACS,MAAM;QAC7BC,QAAQ,EAAEjB,KAAK,CAACO,QAAQ,CAACU,QAAQ;QACjCC,QAAQ,EAAElB,KAAK,CAACO,QAAQ,CAACW,QAAQ;QACjCC,UAAU,EAAEnB,KAAK,CAACO,QAAQ,CAACY;MAC/B;MACA,IAAGnB,KAAK,CAACO,QAAQ,CAACQ,MAAK,IAAK,YAAY,EAAC;QACrCD,SAAS,CAACM,QAAO,GAAIpB,KAAK,CAACO,QAAQ,CAACa,QAAQ,EAC5CN,SAAS,CAACO,UAAS,GAAIrB,KAAK,CAACO,QAAQ,CAACc,UAAS;MACnD;MAEA,OAAO1B,CAAC,CACJC,gBAAgB,CAAC,QAAQ,CAAC,EAC1B;QACI0B,KAAK,EAAE,IAAI;QACX,GAAGR;MACP,CAAC,EACD;QACIV,OAAO,EAAEA,CAAA,KAAM;UAEX,IAAGJ,KAAK,CAACC,WAAW,CAACsB,MAAK,IAAK,CAAC,EAAC;YAC7B,OAAO5B,CAAC,CAACF,SAAS,EAAE;cAChB+B,KAAK,EAAE,eAAe;cACtBC,UAAU,EAAEd,OAAO;cACnBe,KAAK,EAAE,iBAAiB;cACxBC,KAAK,EAAE,SAAAA,CAASC,GAAG,EAAC;gBAChBnB,OAAO,CAACoB,IAAI,CAAC,cAAc,EAAE;kBAACC,KAAK,EAAE;gBAAC,CAAC;cAC3C,CAAC;cACDC,OAAO,EAAE;YACb,CAAC,EAAE;cACCC,IAAI,EAAEA,CAAA,KAAM;gBACR,OAAOrC,CAAC,CACJC,gBAAgB,CAAC,UAAU,CAAC,EAC5B;kBACIqC,KAAK,EAAEvB,KAAK,CAACwB,EAAE,CAAC,gBAAgB;gBACpC,CAAC,EACD;kBACIC,IAAI,EAAEA,CAAA,KAAMxC,CAAC,CAACC,gBAAgB,CAAC,MAAM,CAAC,EAAE;oBAAEwC,IAAI,EAAE;kBAAmB,CAAC,CAAC;kBACrEC,KAAK,EAAEA,CAAA,KAAM,CAAC;gBAClB,CACJ;cACJ;YACJ,CAAC;UACL;UAEA,OAAO1C,CAAC,CAACF,SAAS,EAAE;YAChB+B,KAAK,EAAE,uBAAuB;YAC9BC,UAAU,EAAEzB,KAAK,CAACC,WAAW;YAC7ByB,KAAK,EAAE,iBAAiB;YACxBK,OAAO,EAAE,QAAQ;YACjBO,KAAK,EAAGC,OAAO,IAAK;cAChB1B,SAAS,CAAC2B,GAAG,CAAC,MAAM;gBAChB,IAAIC,SAAQ,GAAIzC,KAAK,CAACC,WAAW,CAACyC,SAAS,CAACC,CAAA,IAAKA,CAAC,CAACC,MAAK,IAAKL,OAAO,CAACK,MAAM;gBAC3E,IAAI,CAACZ,IAAI,IAAIhC,KAAK,CAACC,WAAW,CAAC4C,MAAM,CAACJ,SAAS,EAAE,CAAC;gBAClD,OAAOT,IAAG;cACd,CAAC;YACL,CAAC;YACDL,KAAK,EAAGC,GAAG,IAAK;cACZnB,OAAO,CAACoB,IAAI,CAAC,cAAc,EAAE;gBAACC,KAAK,EAAEF,GAAG,CAACkB;cAAS,CAAC;YACvD,CAAC;YACDC,QAAQ,EAAGnB,GAAG,IAAK;cACfnB,OAAO,CAACoB,IAAI,CAAC,eAAe,EAAE;gBAC1BmB,QAAQ,EAAEpB,GAAG,CAACoB,QAAQ;gBACtBF,QAAQ,EAAElB,GAAG,CAACkB;cAClB,CAAC;YACL,CAAC;YACDG,KAAK,EAAEA,CAAA,KAAM;cACTpC,SAAS,CAAC2B,GAAG,CAAC,IAAI;YACtB;UACJ,CAAC,EAAE;YACCR,IAAI,EAAEA,CAAC;cAACkB,OAAO;cAAEpB;YAAK,CAAC,KAAK;cACxB,OAAOpC,OAAO,CAAC;gBACXyD,MAAM,EAAEnD,KAAK,CAACC,WAAW;gBACzBD,KAAK;gBAAEoD,GAAG,EAAE3C,OAAO;gBACnBuB,IAAI,EAAEkB,OAAO;gBAAEpB;cACnB,CAAC;YACL;UACJ,CAAC;QACL;MACJ,CACJ;IACJ;EACJ;AACJ"}]}