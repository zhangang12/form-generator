{"remainingRequest":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\rightPanel\\treeNodeModal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\rightPanel\\treeNodeModal.vue","mtime":1692714556386},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\babel.config.js","mtime":1692714559294},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1692715146967},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1692715135847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgdG9SYXcsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydhY3RpdmVJdGVtJ10sCiAgc2V0dXAocHJvcHMsIGN0eCkgewogICAgY29uc3QgewogICAgICBwcm94eQogICAgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpOwogICAgbGV0IHByb21pc2VyID0gewogICAgICByZXNvbHZlOiBudWxsLAogICAgICByZWplY3Q6IG51bGwKICAgIH07CiAgICBjb25zdCByYW5kb21LZXkgPSAoKSA9PiB7CiAgICAgIGxldCBzdHIgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7CiAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIDgpOwogICAgfTsKICAgIGNvbnN0IGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBmb3JtRGF0YTogewogICAgICAgIGlkOiAnJywKICAgICAgICBsYWJlbDogJycsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGNoaWxkcmVuOiBbXQogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGxhYmVsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiBwcm94eS4kdCgnYmFzZS5lbnRlcicpICsgcHJveHkuJHQoJ2Jhc2Uub3B0aW9uLm5hbWUnKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHZhbHVlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiBwcm94eS4kdCgnYmFzZS5lbnRlcicpICsgcHJveHkuJHQoJ2Jhc2Uub3B0aW9uLnZhbHVlJyksCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBkYXRhVHlwZU9wdGlvbnM6IFt7CiAgICAgICAgbGFiZWw6IHByb3h5LiR0KCdiYXNlLnN0cmluZycpLAogICAgICAgIHZhbHVlOiAnc3RyaW5nJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHByb3h5LiR0KCdiYXNlLm51bWJlcicpLAogICAgICAgIHZhbHVlOiAnbnVtYmVyJwogICAgICB9XSwKICAgICAgZGF0YVR5cGU6ICdzdHJpbmcnCiAgICB9KTsKICAgIGNvbnN0IGhhbmRlbENvbmZpcm0gPSAoKSA9PiB7CiAgICAgIHByb3h5LiRyZWZzLmVsRm9ybS52YWxpZGF0ZSgpLnRoZW4odmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBsZXQgcmF3SXRlbSA9IHsKICAgICAgICAgIC4uLnZhbGlkCiAgICAgICAgfTsKICAgICAgICByYXdJdGVtLmlkID0gcmFuZG9tS2V5KCk7CiAgICAgICAgaWYgKGRhdGEuZGF0YVR5cGUgPT0gJ251bWJlcicpIHsKICAgICAgICAgIHJhd0l0ZW0udmFsdWUgPSBOdW1iZXIodmFsaWQudmFsdWUpOwogICAgICAgIH0KICAgICAgICBwcm9taXNlci5yZXNvbHZlKHJhd0l0ZW0pOwogICAgICAgIGNsb3NlKCk7CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IGNsb3NlID0gKCkgPT4gewogICAgICBkYXRhLnZpc2libGUgPSBmYWxzZTsKICAgICAgcHJveHkuJHJlZnMuZWxGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHByb21pc2VyLnJlamVjdCgpOwogICAgfTsKICAgIGNvbnN0IG9wZW4gPSAoKSA9PiB7CiAgICAgIGRhdGEudmlzaWJsZSA9IHRydWU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgcHJvbWlzZXIucmVzb2x2ZSA9IHJlc29sdmU7CiAgICAgICAgcHJvbWlzZXIucmVqZWN0ID0gcmVqZWN0OwogICAgICB9KTsKICAgIH07CiAgICByZXR1cm4gewogICAgICBvcGVuLAogICAgICBjbG9zZSwKICAgICAgaGFuZGVsQ29uZmlybSwKICAgICAgLi4udG9SZWZzKGRhdGEpCiAgICB9OwogIH0KfTs="},{"version":3,"names":["reactive","toRefs","toRaw","getCurrentInstance","props","setup","ctx","proxy","promiser","resolve","reject","randomKey","str","Math","random","toString","substring","data","visible","formData","id","label","value","children","rules","required","message","$t","trigger","dataTypeOptions","dataType","handelConfirm","$refs","elForm","validate","then","valid","rawItem","Number","close","resetFields","open","Promise"],"sources":["C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\rightPanel\\treeNodeModal.vue"],"sourcesContent":["<template>\r\n  <a-modal\r\n\t:title=\"$t('base.add.option')\"\r\n\tv-model:visible=\"visible\"\r\n\t@ok=\"handelConfirm\"\r\n\tonText=\"确定\"\r\n\t@cancel=\"close\"\r\n\tcancelText=\"取消\"\r\n  >\r\n\t<a-form\r\n\t  ref=\"elForm\"\r\n\t  :model=\"formData\"\r\n\t  :rules=\"rules\"\r\n\t  layout=\"vertical\"\r\n\t>\r\n\t  <a-form-item :label=\"$t('base.option.name')\" name=\"label\">\r\n\t\t<a-input v-model:value=\"formData.label\" :placeholder=\"$t('base.enter') + $t('base.option.name')\" allow-clear />\r\n\t  </a-form-item>\r\n\t  <a-form-item :label=\"$t('base.option.value')\" name=\"value\">\r\n\t\t<a-input\r\n\t\t  v-model:value=\"formData.value\"\r\n\t\t  :placeholder=\"$t('base.enter') + $t('base.option.value')\"\r\n\t\t  allow-clear\r\n\t\t>\r\n\t\t\t<template #addonAfter>\r\n\t\t\t\t<a-select v-model:value=\"dataType\">\r\n\t\t\t\t\t<a-select-option v-for=\"(item, index) in dataTypeOptions\" :key=\"index\" :value=\"item.value\" :disabled=\"item.disabled\">\r\n\t\t\t\t\t\t{{ item.label }}\r\n\t\t\t\t\t</a-select-option>\r\n\t\t\t\t</a-select>\r\n\t\t\t</template>\r\n\t\t</a-input>\r\n\t  </a-form-item>\r\n\t</a-form>\r\n  </a-modal>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, toRaw, getCurrentInstance } from 'vue'\r\nexport default {\r\n\tprops: ['activeItem'],\r\n\tsetup(props, ctx){\r\n\r\n\t\tconst { proxy } = getCurrentInstance()\r\n\r\n\t\tlet promiser = {\r\n\t\t\tresolve: null,\r\n\t\t\treject: null\r\n\t\t}\r\n\r\n\t\tconst randomKey = () => {\r\n\t\t\tlet str = Math.random().toString(36).substring(2)\r\n\t\t\treturn str.substring(0, 8)\r\n\t\t}\r\n\r\n\t\tconst data = reactive({\r\n\t\t\tvisible: false,\r\n\t\t\tformData: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tlabel:'',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tchildren: []\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tlabel: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: proxy.$t('base.enter') + proxy.$t('base.option.name'),\r\n\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tvalue: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: proxy.$t('base.enter') + proxy.$t('base.option.value'),\r\n\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tdataTypeOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: proxy.$t('base.string'),\r\n\t\t\t\t\tvalue: 'string'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: proxy.$t('base.number'),\r\n\t\t\t\t\tvalue: 'number'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdataType: 'string'\r\n\t\t})\r\n\r\n\t\tconst handelConfirm = () => {\r\n\t\t\tproxy.$refs.elForm.validate().then(valid => {\r\n\t\t\t\tif (!valid) return\r\n\t\t\t\tlet rawItem = { ...valid }\r\n\t\t\t\trawItem.id = randomKey()\r\n\t\t\t\tif(data.dataType == 'number'){\r\n\t\t\t\t\trawItem.value = Number(valid.value)\r\n\t\t\t\t}\r\n\t\t\t\tpromiser.resolve(rawItem)\r\n\t\t\t\tclose()\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst close = () => {\r\n\t\t\tdata.visible = false\r\n\t\t\tproxy.$refs.elForm.resetFields()\r\n\t\t\tpromiser.reject()\r\n\t\t}\r\n\t\tconst open = () => {\r\n\t\t\tdata.visible = true\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tpromiser.resolve = resolve\r\n\t\t\t\tpromiser.reject = reject\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\topen,close,\r\n\t\t\thandelConfirm,\r\n\t\t\t...toRefs(data)\r\n\t\t}\r\n\t}\r\n}\r\n</script>"],"mappings":"AAqCA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,KAAK,EAAEC,kBAAiB,QAAS,KAAI;AAChE,eAAe;EACdC,KAAK,EAAE,CAAC,YAAY,CAAC;EACrBC,KAAKA,CAACD,KAAK,EAAEE,GAAG,EAAC;IAEhB,MAAM;MAAEC;IAAM,IAAIJ,kBAAkB,CAAC;IAErC,IAAIK,QAAO,GAAI;MACdC,OAAO,EAAE,IAAI;MACbC,MAAM,EAAE;IACT;IAEA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACvB,IAAIC,GAAE,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC;MAChD,OAAOJ,GAAG,CAACI,SAAS,CAAC,CAAC,EAAE,CAAC;IAC1B;IAEA,MAAMC,IAAG,GAAIjB,QAAQ,CAAC;MACrBkB,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;QACTC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAC,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACX,CAAC;MACDC,KAAK,EAAE;QACNH,KAAK,EAAE,CACP;UACCI,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAEnB,KAAK,CAACoB,EAAE,CAAC,YAAY,IAAIpB,KAAK,CAACoB,EAAE,CAAC,kBAAkB,CAAC;UAC9DC,OAAO,EAAE;QACV,EACC;QACDN,KAAK,EAAE,CACP;UACCG,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAEnB,KAAK,CAACoB,EAAE,CAAC,YAAY,IAAIpB,KAAK,CAACoB,EAAE,CAAC,mBAAmB,CAAC;UAC/DC,OAAO,EAAE;QACV;MAED,CAAC;MACDC,eAAe,EAAE,CAChB;QACCR,KAAK,EAAEd,KAAK,CAACoB,EAAE,CAAC,aAAa,CAAC;QAC9BL,KAAK,EAAE;MACR,CAAC,EACD;QACCD,KAAK,EAAEd,KAAK,CAACoB,EAAE,CAAC,aAAa,CAAC;QAC9BL,KAAK,EAAE;MACR,EACA;MACDQ,QAAQ,EAAE;IACX,CAAC;IAED,MAAMC,aAAY,GAAIA,CAAA,KAAM;MAC3BxB,KAAK,CAACyB,KAAK,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,CAACC,IAAI,CAACC,KAAI,IAAK;QAC3C,IAAI,CAACA,KAAK,EAAE;QACZ,IAAIC,OAAM,GAAI;UAAE,GAAGD;QAAM;QACzBC,OAAO,CAACjB,EAAC,GAAIT,SAAS,CAAC;QACvB,IAAGM,IAAI,CAACa,QAAO,IAAK,QAAQ,EAAC;UAC5BO,OAAO,CAACf,KAAI,GAAIgB,MAAM,CAACF,KAAK,CAACd,KAAK;QACnC;QACAd,QAAQ,CAACC,OAAO,CAAC4B,OAAO;QACxBE,KAAK,CAAC;MACP,CAAC;IACF;IACA,MAAMA,KAAI,GAAIA,CAAA,KAAM;MACnBtB,IAAI,CAACC,OAAM,GAAI,KAAI;MACnBX,KAAK,CAACyB,KAAK,CAACC,MAAM,CAACO,WAAW,CAAC;MAC/BhC,QAAQ,CAACE,MAAM,CAAC;IACjB;IACA,MAAM+B,IAAG,GAAIA,CAAA,KAAM;MAClBxB,IAAI,CAACC,OAAM,GAAI,IAAG;MAClB,OAAO,IAAIwB,OAAO,CAAC,CAACjC,OAAO,EAAEC,MAAM,KAAK;QACvCF,QAAQ,CAACC,OAAM,GAAIA,OAAM;QACzBD,QAAQ,CAACE,MAAK,GAAIA,MAAK;MACxB,CAAC;IACF;IAEA,OAAO;MACN+B,IAAI;MAACF,KAAK;MACVR,aAAa;MACb,GAAG9B,MAAM,CAACgB,IAAI;IACf;EACD;AACD"}]}