{"remainingRequest":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue","mtime":1692714556052},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1692715146967},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1692715147026},{"path":"C:\\Users\\湛港\\Desktop\\form-generator\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1692715135847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZScKZXhwb3J0IGRlZmF1bHQgewogICAgZW1pdHM6IFsnY29uZmlybSddLAogICAgc2V0dXAocHJvcHMsIGN0eCl7CiAgICAgICAgY29uc3QgeyBwcm94eSB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKCkKICAgICAgICBjb25zdCBkYXRhID0gcmVhY3RpdmUoewogICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgZm9ybURhdGE6IHsKICAgICAgICAgICAgICAgIGZpbGVOYW1lOiB1bmRlZmluZWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZXM6IHsKICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBbewogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGAke3Byb3h5LiR0KCdiYXNlLmVudGVyJyl9JHtwcm94eS4kdCgnYmFzZS5maWxlbmFtZScpfWAsCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgICAgY29uc3Qgb25PcGVuID0gKHN1ZmZpeCA9ICdqc29uJykgPT4gewogICAgICAgICAgICBkYXRhLnZpc2libGUgPSB0cnVlCiAgICAgICAgICAgIGRhdGEuZm9ybURhdGEuZmlsZU5hbWUgPSBgJHsrbmV3IERhdGUoKX0uJHtzdWZmaXh9YAogICAgICAgIH0KCiAgICAgICAgY29uc3QgaGFuZGVsQ29uZmlybSA9ICgpID0+IHsKICAgICAgICAgICAgcHJveHkuJHJlZnMuZWxGb3JtLnZhbGlkYXRlKCkudGhlbih2YWxpZCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4KICAgICAgICAgICAgICAgIGN0eC5lbWl0KCdjb25maXJtJywgZGF0YS5mb3JtRGF0YS5maWxlTmFtZSkKICAgICAgICAgICAgICAgIGNsb3NlKCkKICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4gewogICAgICAgICAgICBkYXRhLnZpc2libGUgPSBmYWxzZQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb25PcGVuLAogICAgICAgICAgICBoYW5kZWxDb25maXJtLAogICAgICAgICAgICBjbG9zZSwKICAgICAgICAgICAgLi4udG9SZWZzKGRhdGEpCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["C:\\Users\\湛港\\Desktop\\form-generator\\src\\component\\jsonDrawer\\exportModal.vue"],"names":[],"mappings":"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","file":"C:/Users/湛港/Desktop/form-generator/src/component/jsonDrawer/exportModal.vue","sourceRoot":"","sourcesContent":["<template>\n    <a-modal v-model:visible=\"visible\"\n        :title=\"$t('base.export.file')\"\n        @ok=\"handelConfirm\"\n        @cancel=\"close\"\n    >\n        <a-form\n            ref=\"elForm\"\n            :model=\"formData\"\n            :rules=\"rules\"\n            size=\"medium\"\n            label-width=\"100px\"\n        >\n            <a-form-item :label=\"$t('base.filename')\" name=\"fileName\">\n                <a-input v-model:value=\"formData.fileName\" :placeholder=\"$t('base.enter')\" allow-clear />\n            </a-form-item>\n        </a-form>\n    </a-modal>\n</template>\n<script>\nimport { reactive, toRefs, getCurrentInstance } from 'vue'\nexport default {\n    emits: ['confirm'],\n    setup(props, ctx){\n        const { proxy } = getCurrentInstance()\n        const data = reactive({\n            visible: false,\n            formData: {\n                fileName: undefined\n            },\n            rules: {\n                fileName: [{\n                    required: true,\n                    message: `${proxy.$t('base.enter')}${proxy.$t('base.filename')}`,\n                    trigger: 'blur'\n                }]\n            }\n        })\n\n        const onOpen = (suffix = 'json') => {\n            data.visible = true\n            data.formData.fileName = `${+new Date()}.${suffix}`\n        }\n\n        const handelConfirm = () => {\n            proxy.$refs.elForm.validate().then(valid => {\n                if (!valid) return\n                ctx.emit('confirm', data.formData.fileName)\n                close()\n            })\n        }\n\n        const close = () => {\n            data.visible = false\n        }\n\n        return {\n            onOpen,\n            handelConfirm,\n            close,\n            ...toRefs(data)\n        }\n    }\n}\n</script>"]}]}